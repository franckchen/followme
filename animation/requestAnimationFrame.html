<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>requestAnimationFrame</title>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <style>
        html,
        body {
            position: relative;
            margin: 0;
            height: 100%;
        }

        #cf {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: #daa520;
        }
    </style>
</head>
<body>
<div id="cf"></div>
<script>
    var cf = $('#cf');

    var mxy = function () {
        // 获取left css属性的当前值
        var left = parseInt(cf.css('left'));

        if (left >= 600) {
            return;
        }

        // 向右移动5px
        cf.css({
            left: '+=5'
        });

        // 注意与setTimeout实现的动画相区别，自动保持帧数，所以参数一定要是动画函数
        requestAnimationFrame(mxy);
    };

    mxy();

    /**
     * 知识点
     *
     * 1.requestAnimationFrame专用于实现动画，自动延迟调用函数，保持动画处于一个良好的帧数
     * 2.requestAnimationFrame兼容性很差，使用前一定要调研是否支持
     */
</script>
</body>
</html>
